<div class="wrapper fadeIn fast">
  <div>
    <img
      src="/assets/estudiantes.jpg"
      class="d-block w-100"
      style="height: auto"
    />
  </div>
  <div>
    <div class="container" style="padding-top: 30px; padding-bottom: 30px">
      <div id="">
        <form #forma="ngForm">
          <div class="row fondodivCenter shadow" id="print-section">
            <div class="col">
              <div class="row">
                <div
                  class="col-md-4"
                  style="
                    background-color: #8f141b;
                    padding: 20px;
                    border-radius: 10px 10px 10px 10px;
                    margin-bottom: 20px;
                  "
                >
                  <h4 class="text-left text-white">
                    <i class="fas fa-camera"></i> Foto de perfil
                  </h4>
                  <img
                    [src]="listado.foto"
                    [alt]="listado.nombre"
                    [title]="listado.nombre"
                    class="rounded mx-auto d-block"
                    style="width: 100%; border: solid 5px white"
                  />
                  <br />
                  <h6
                    class="text-center no-print"
                    style="
                      background-color: #b15b60;
                      color: white;
                      padding: 10px;
                      border-radius: 10px;
                    "
                  >
                    <a
                      style="color: white"
                      href="http://wsp.presidencia.gov.co/Normativa/Leyes/Documents/LEY%201712%20DEL%2006%20DE%20MARZO%20DE%202014.pdf"
                      target="_blank"
                      >Ver Ley de Transparencia y acceso a la información</a
                    >
                  </h6>
                </div>
                <div class="col-md-8 text-justify" style="margin-bottom: 20px">
                  <div
                    style="
                      background-color: #8f141b;
                      color: white;
                      padding: 20px;
                      border-radius: 10px 10px 0px 0px;
                    "
                  >
                    <h3>
                      <i class="fas fa-university"></i>
                      {{ listado.nombre }}
                    </h3>
                    <h5>Estudiante</h5>
                    <h6>Universidad Surcolombiana</h6>
                  </div>
                  <div
                    style="
                      background-color: #edeff0;
                      padding: 20px;
                      border-radius: 0px 0px 10px 10px;
                      color: #1e262b;
                    "
                  >
                    <h5>
                      <i class="fas fa-user-tie"></i> Resumen perfil
                      profesional:
                    </h5>
                    <p class="m-4">
                      {{ listado.sintesis }}
                    </p>
                    <br />
                    <h5>
                      <i class="fas fa-list-ul"></i> Formación y logros
                      académicos:
                    </h5>
                    <ul>
                      <li
                        *ngFor="let field of listado.fieldArray; let i = index"
                      >
                        <p class="pre text-justify">
                          {{ field.formacion }}
                        </p>
                      </li>
                    </ul>
                    <br />
                    <div class="row">
                      <div class="col">
                        <h5>
                          <i class="fas fa-envelope"></i>
                          {{ listado.correo }}
                        </h5>
                      </div>
                    </div>
                    <br />
                    <div class="row no-print">
                      <div class="col m-3">
                        <a
                          [href]="listado.cvlac"
                          target="blank_"
                          class="btn navlinkinSolid btn-lg btn-block m-3"
                          ><i class="fas fa-atom"></i> CvLAC</a
                        >
                      </div>
                      <div class="col m-3">
                        <a
                          style="margin-left: 10px"
                          [href]="listado.orcid"
                          target="blank_"
                          class="btn navlinkinSolid btn-lg btn-block m-3"
                          ><i class="fas fa-atlas"></i> ORCID</a
                        >
                      </div>
                      <ng-template #confirmar let-modal>
                        <div class="modal-header bgrojoycafe">
                          <h4 class="modal-title">Confirmar acción</h4>
                          <button
                            type="button"
                            class="close"
                            aria-label="Close"
                            (click)="modal.dismiss('Cross click')"
                          >
                            <i class="fas fa-times" style="color: white"></i>
                          </button>
                        </div>
                        <div class="modal-body">
                          <div
                            class="alert alert-warning text-center font-weight-bold"
                            role="alert"
                          >
                            Está a punto de guardar el evento. <br />
                            ¿Desea continuar con la acción?
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button
                            type="button"
                            class="btn btnColorFacultadSalud"
                            ngbAutofocus
                            (click)="guardar()"
                          >
                            Aceptar
                          </button>
                          <button
                            type="button"
                            class="btn navlinkinSolid"
                            (click)="modal.close('Close click')"
                          >
                            Cancelar
                          </button>
                        </div>
                      </ng-template>
                    </div>
                    <br />
                  </div>
                </div>
              </div>
              <hr />
              <div class="row no-print">
                <div class="col">
                  <button
                    class="btn navlinkinSolid"
                    printSectionId="print-section"
                    [useExistingCss]="true"
                    printTitle="Perfil {{ listado.nombre }}"
                    ngxPrint
                  >
                    <i class="fas fa-print"></i> Imprimir
                  </button>
                  <button
                    class="btn navlinkinSolid m-1"
                    [routerLink]="['/estudiantes']"
                  >
                    <i class="fas fa-sign-out-alt"></i> Regresar
                  </button>
                </div>
                <div class="col text-right">
                  <ng-template #formAdmin let-modal>
                    <div class="modal-header bgrojoyblanco">
                      <h4 class="modal-title">
                        <i class="fas fa-user-cog white"></i> Administrar
                        contenido:
                      </h4>
                      <button
                        type="button"
                        class="close"
                        aria-label="Close"
                        (click)="modal.dismiss('Cross click')"
                      >
                        <i class="fas fa-times" style="color: white"></i>
                      </button>
                    </div>
                    <div class="modal-body">
                      <form class="text-center p-2" #forma="ngForm">
                        <!-- Email -->
                        <div class="d-flex justify-content-around">
                          <i
                            class="fas fa-user-shield fa-2x grayinst"
                            style="margin: 5px"
                          ></i>
                          <input
                            type="name"
                            id="defaultLoginFormEmail"
                            [(ngModel)]="user"
                            name="user"
                            class="form-control mb-4"
                            placeholder="Usuario"
                          />
                        </div>

                        <!-- Password -->
                        <div class="d-flex justify-content-around">
                          <i
                            class="fas fa-key fa-2x grayinst"
                            style="margin: 5px"
                          ></i>
                          <input
                            [(ngModel)]="key"
                            name="key"
                            type="password"
                            id="defaultLoginFormPassword"
                            class="form-control mb-4"
                            placeholder="Contraseña"
                          />
                        </div>

                        <div class="d-flex justify-content-around">
                          <div>
                            <!-- Remember me -->
                            <mdb-checkbox [default]="true"
                              >Recuerdame</mdb-checkbox
                            >
                          </div>
                          <div>
                            <!-- Forgot password -->
                            <a href="">¿Recuperar?</a>
                          </div>
                        </div>
                      </form>
                    </div>
                    <hr />
                    <div
                      *ngIf="error != false"
                      class="alert alert-danger alert-dismissible fade show"
                      role="alert"
                    >
                      <strong>{{ passError }}</strong>
                      <button
                        type="button"
                        class="close"
                        data-dismiss="alert"
                        aria-label="Close"
                      >
                        <i class="fas fa-times" style="color: #8f141b"></i>
                      </button>
                    </div>
                    <button
                      *ngIf="ajustes != false"
                      type="button"
                      style="
                        width: 80%;
                        margin-left: auto;
                        margin-right: auto;
                        margin-bottom: 20px;
                      "
                      class="btn navlinkinSolid p-3"
                      ngbAutofocus
                      (click)="viewOpciones(key, user)"
                      (click)="modal.dismiss('Cross click')"
                    >
                      Acceder
                    </button>
                  </ng-template>
                  <div
                    *ngIf="ajustes != false"
                    class="col"
                    (click)="openSm(formAdmin)"
                  >
                    <i
                      class="fas fa-wrench fa-2x"
                      placement="left"
                      ngbTooltip="Ajustes"
                      style="color: #8f141b"
                    ></i>
                  </div>
                  <div class="col text-right" *ngIf="vistaEdicion != false">
                    <a
                      class="btn navlinkinSolid m-2"
                      [routerLink]="['/admi_estudiante', 'nuevo']"
                      ><i class="fas fa-plus-circle"></i> Agregar nuevo
                      Profesor</a
                    >
                    <a class="btn navlinkinSolid m-2" (click)="nav()"
                      ><i class="fas fa-user-edit"></i> Editar</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="row fondodivCenter shadow" style="margin-top: 20px">
        <div class="col">
          <div class="row">
            <div class="col">
              <h3
                [routerLink]="['/estudiantes']"
                class="titleInstRed cursorSelect"
              >
                <i class="fas fa-users"></i> Nuestros Estudiantes
              </h3>
              <br />
            </div>
            <div class="col text-rigth">
              <ngb-pagination
                class="d-flex justify-content-end"
                [collectionSize]="(listados | keysfirebase).length"
                [pageSize]="pageSize"
                [(page)]="page"
              ></ngb-pagination>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div
                id="carouselExampleInterval"
                class="carousel slide"
                data-ride="carousel"
              >
                <div class="carousel-inner text-center no-print">
                  <div class="carousel-item active">
                    <div class="card-deck">
                      <div
                        class="card"
                        *ngFor="
                          let item of listados
                            | keysfirebase
                            | slice
                              : (page - 1) * pageSize
                              : (page - 1) * pageSize + pageSize;
                          let i = index
                        "
                        style="border: none"
                      >
                        <img
                          [routerLink]="['/estudiante', item]"
                          (click)="up()"
                          [src]="listados[item].foto"
                          [alt]="listados[item].nombre"
                          [title]="listados[item].nombre"
                          class="card-img-top rounded greyImg cursorSelect"
                          placement="top"
                          ngbTooltip="Click para ir al perfil"
                        />
                        <h5 class="card-title m-2">
                          {{ listados[item].nombre }}
                        </h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
